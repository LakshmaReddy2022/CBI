"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _slicedToArray2 = _interopRequireDefault(require("@babel/runtime/helpers/slicedToArray"));

var _useUpdate = _interopRequireDefault(require("react-use/lib/useUpdate.js"));

var _normalizeArgs = _interopRequireDefault(require("../normalizeArgs.js"));

var _useAsyncSafe = _interopRequireDefault(require("../useAsyncSafe.js"));

var _default = (0, _normalizeArgs.default)(function useAsyncSafe() {
  var update = (0, _useUpdate.default)();

  try {
    var _useAsyncSafeSuspense = _useAsyncSafe.default.apply(void 0, arguments),
        _useAsyncSafeSuspense2 = (0, _slicedToArray2.default)(_useAsyncSafeSuspense, 2),
        error = _useAsyncSafeSuspense2[0],
        data = _useAsyncSafeSuspense2[1];

    return {
      isLoading: false,
      data: data,
      error: error
    };
  } catch (suspender) {
    suspender.finally(update);
    return {
      isLoading: true
    };
  }
});

exports.default = _default;
//# sourceMappingURL=useAsyncSafe.js.map