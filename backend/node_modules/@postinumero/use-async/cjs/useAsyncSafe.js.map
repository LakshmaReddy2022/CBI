{"version":3,"sources":["../src/useAsyncSafe.js"],"names":["useAsyncSafe","args","memoized","useItem","value","suspender"],"mappings":";;;;;;;;;AAAA;;AACA;;AACA;;AACA;;eAEe,4BAAc,SAASA,YAAT,GAA+B;AAAA,oCAANC,IAAM;AAANA,IAAAA,IAAM;AAAA;;AAC1D,MAAMC,QAAQ,GAAGC,6BAAWF,IAAX,CAAjB;;AACA,4BAAYC,QAAZ,EAAsBD,IAAtB;;AACA,MAAIC,QAAQ,CAACE,KAAb,EAAoB;AAClB,WAAOF,QAAQ,CAACE,KAAhB;AACD;;AACD,MAAI,CAACF,QAAQ,CAACG,SAAd,EAAyB;AACvB,iCAAeJ,IAAf,EAAqBC,QAArB;AACD;;AACD,QAAMA,QAAQ,CAACG,SAAf;AACD,CAVc,C","sourcesContent":["import { useItem } from './cache.js';\nimport normalizeArgs from './normalizeArgs.js';\nimport callAndSuspend from './callAndSuspend.js';\nimport useUpdaters from './useUpdaters.js';\n\nexport default normalizeArgs(function useAsyncSafe(...args) {\n  const memoized = useItem(...args);\n  useUpdaters(memoized, args);\n  if (memoized.value) {\n    return memoized.value;\n  }\n  if (!memoized.suspender) {\n    callAndSuspend(args, memoized);\n  }\n  throw memoized.suspender;\n});\n"],"file":"useAsyncSafe.js"}