{"version":3,"sources":["../src/useAsyncSafe.js"],"names":["useItem","normalizeArgs","callAndSuspend","useUpdaters","useAsyncSafe","args","memoized","value","suspender"],"mappings":"AAAA,SAASA,OAAT,QAAwB,YAAxB;AACA,OAAOC,aAAP,MAA0B,oBAA1B;AACA,OAAOC,cAAP,MAA2B,qBAA3B;AACA,OAAOC,WAAP,MAAwB,kBAAxB;AAEA,eAAeF,aAAa,CAAC,SAASG,YAAT,GAA+B;AAAA,oCAANC,IAAM;AAANA,IAAAA,IAAM;AAAA;;AAC1D,MAAMC,QAAQ,GAAGN,OAAO,MAAP,SAAWK,IAAX,CAAjB;AACAF,EAAAA,WAAW,CAACG,QAAD,EAAWD,IAAX,CAAX;;AACA,MAAIC,QAAQ,CAACC,KAAb,EAAoB;AAClB,WAAOD,QAAQ,CAACC,KAAhB;AACD;;AACD,MAAI,CAACD,QAAQ,CAACE,SAAd,EAAyB;AACvBN,IAAAA,cAAc,CAACG,IAAD,EAAOC,QAAP,CAAd;AACD;;AACD,QAAMA,QAAQ,CAACE,SAAf;AACD,CAV2B,CAA5B","sourcesContent":["import { useItem } from './cache.js';\nimport normalizeArgs from './normalizeArgs.js';\nimport callAndSuspend from './callAndSuspend.js';\nimport useUpdaters from './useUpdaters.js';\n\nexport default normalizeArgs(function useAsyncSafe(...args) {\n  const memoized = useItem(...args);\n  useUpdaters(memoized, args);\n  if (memoized.value) {\n    return memoized.value;\n  }\n  if (!memoized.suspender) {\n    callAndSuspend(args, memoized);\n  }\n  throw memoized.suspender;\n});\n"],"file":"useAsyncSafe.js"}